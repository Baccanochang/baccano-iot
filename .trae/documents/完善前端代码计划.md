# 完善前端代码计划

## 1. 前端架构与技术栈
- 前端使用React + TypeScript + Vite
- UI组件库：Radix UI + Lucide Icons
- 状态管理：React Context API（后续可考虑Redux Toolkit）
- API请求：添加axios库

## 2. 完善内容

### 2.1 数据模型对齐
- 将前端Rule类型与后端Rule实体类对齐
- 添加RuleAction和RuleCondition类型
- 统一状态字段定义（active/inactive vs 0/1）

### 2.2 API集成
- 添加axios配置
- 实现规则引擎相关API调用
  - 获取规则列表
  - 创建规则
  - 更新规则
  - 删除规则
  - 切换规则状态
  - 执行规则
  - 获取规则执行历史

### 2.3 规则引擎组件完善
- 优化规则创建模态框，支持多条件和多动作
- 添加规则编辑功能
- 实现规则执行历史记录展示
- 完善规则状态管理
- 添加规则优先级设置

### 2.4 其他组件优化
- 完善设备管理组件
- 优化仪表盘数据展示
- 添加登录认证逻辑
- 实现用户权限管理

## 3. 实现步骤

### 第一步：添加API配置
1. 安装axios库
2. 创建api目录和相关配置文件
3. 实现API请求封装

### 第二步：完善规则引擎组件
1. 更新Rule类型定义
2. 添加API调用逻辑
3. 完善规则创建和编辑功能
4. 实现规则执行历史记录

### 第三步：优化设备管理组件
1. 添加设备列表API调用
2. 实现设备详情展示
3. 添加设备状态监控

### 第四步：完善仪表盘组件
1. 添加实时数据展示
2. 实现图表数据可视化
3. 添加系统状态监控

### 第五步：添加认证和权限管理
1. 实现登录API调用
2. 添加JWT令牌管理
3. 实现权限控制

## 4. 测试与优化
- 测试所有功能的正常运行
- 优化UI交互体验
- 修复可能出现的bug
- 确保代码质量和可维护性

## 5. 预期效果
- 前端与后端API完全对接
- 所有功能正常运行
- UI交互流畅美观
- 代码结构清晰，易于维护