# 前端页面修复计划

## 问题分析

1. **API导入路径错误**

   * `DeviceDetails.tsx` 中从 `../api/client` 导入了已移除的 API 函数

   * 实际 API 函数现在位于 `../api/devices` 和 `../api/products` 目录中

2. **物模型获取逻辑错误**

   * 当前实现直接调用 `getThingModel(deviceId)`，但实际需要 `productId` 和 `version` 参数

3. **导航链接问题**

   * 导航菜单中的第一个链接是 `/devices/demo`，但设备详情页面的 API 调用可能不正确

## 修复步骤

### 1. 修复 DeviceDetails 组件

**文件：** `web-ui/src/pages/DeviceDetails.tsx`

* [ ] 更新 API 导入路径，从正确的文件中导入 API 函数

* [ ] 修复物模型获取逻辑，使用正确的 API 函数和参数

* [ ] 确保设备 ID 为空时的处理逻辑正确

### 2. 检查其他组件

* [ ] 检查 `DeviceDetails.tsx`（功能组件）中的 API 导入

* [ ] 检查 `ProductDetails.tsx` 中的 API 导入

* [ ] 检查 `ThingModelEditor.tsx` 中的 API 导入

### 3. 测试导航菜单

* [ ] 确保所有导航链接都能正确跳转

* [ ] 测试根路径访问

* [ ] 测试设备详情页面访问

* [ ] 测试产品管理页面访问

## 预期结果

* 前端页面能够正常加载

* 导航菜单链接能够正确跳转

* 设备详情页面能够正确获取和显示数据

* 产品管理页面能够正确获取和显示数据

## 修复要点

* 确保所有 API 函数都从正确的文件中导入

* 修复物模型获取逻辑，确保传递正确的参数

* 确保设备 ID 为空时的处理逻辑正确

* 确保所有组件都能正确处理 API 调用结果

## 时间估算

* 修复 DeviceDetails 组件：15 分钟

* 检查其他组件：10 分钟

* 测试导航菜单：5 分钟

* 总计：约 30 分钟

